# üì¶ –ü—Ä–æ—Ü–µ—Å—Å: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–∫–∏ (`Process_request`)

## üßë‚Äçüíº –£—á–∞—Å—Ç–Ω–∏–∫: `Operator`

---

## üîπ Service Tasks

### üîß `Activity_lead_exist` ‚Äî –ü–æ–∏—Å–∫ –ª–∏–¥–∞
**–¢–∏–ø –∑–∞–¥–∞—á–∏:** `lead_exists`  
**–ü–æ–ª—É—á–∞–µ—Ç:**
- `phone: string`  
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `is_lead_exists: boolean`

---

### üÜï `Activity_lead_create` ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–∞  
**–¢–∏–ø –∑–∞–¥–∞—á–∏:** `lead_create`  
**–ü–æ–ª—É—á–∞–µ—Ç:**
- `phone: string`  
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `lead: object`

---

## üîπ User Tasks

### üìù `Activity_lead_info` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–∏–¥–∞  
**–§–æ—Ä–º–∞:** `form-lead-processing`  
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `lead_info: string`
- `is_task_need: boolean`

---

### ‚öôÔ∏è `Activity_task_options` ‚Äî –û–ø—Ü–∏–∏ –∑–∞–∫–∞–∑–∞  
**–§–æ—Ä–º–∞:** `Form_hy1x5cl`  
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `task_options: list`

---

### ‚ùå `Activity_refuse` ‚Äî –û—Ñ–æ—Ä–º–∏—Ç—å –æ—Ç–∫–∞–∑  
**–§–æ—Ä–º–∞:** `form-1nt4n0x`  
**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `draw_refuse: string`

---

## üîπ Gateways

### üîÄ `Gateway_is_lead_exists` ‚Äî –õ–∏–¥ –Ω–∞–π–¥–µ–Ω?  
- –î–∞ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ `lead_info`
- –ù–µ—Ç (`is_lead_exists=false`) ‚Üí `lead_create`

---

### üîÄ `Gateway_result_task` ‚Äî –ó–∞–¥–∞—á–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è?  
- –î–∞ ‚Üí `task_options`
- –ù–µ—Ç (`is_task_need=false`) ‚Üí `refuse`

---

## üîπ End Events

### ‚úÖ `Event_complete` ‚Äî –ó–∞—è–≤–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞  
–ó–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å, –µ—Å–ª–∏ –∑–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω.

---

### üü• `Event_refuse` ‚Äî –û—Ç–∫–∞–∑  
Terminate Event –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –æ—Ç –∑–∞—è–≤–∫–∏.

---

## üó∫Ô∏è –û–±—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π

1. **Start Event** ‚Äî `–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–∫–∏`
2. **Service Task** ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ª–∏–¥–∞ (`lead_exists`)
3. **Gateway** ‚Äî –õ–∏–¥ –Ω–∞–π–¥–µ–Ω?
   - –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–∞ (`lead_create`)
4. **User Task** ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–∏–¥–∞ (`lead_info`)
5. **Gateway** ‚Äî –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–¥–∞—á–∞?
   - –î–∞ ‚Üí `task_options` ‚Üí `Event_complete`
   - –ù–µ—Ç ‚Üí `refuse` ‚Üí `Event_refuse`

---

## üìù –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Service Task —Å `zeebe:taskDefinition`, –≤—Å–µ user tasks —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—Ç—Å—è `zeebe:formDefinition`.
- –ü–æ—Ç–æ–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É—Å–ª–æ–≤–∏—è `=is_lead_exists=false`, `=is_task_need=false`.
- `terminateEvent` –æ—Ñ–æ—Ä–º–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ –æ—Ç–∫–∞–∑—É.
- –ù–∞–∑–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –∏ –∑–∞–¥–∞—á —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é.